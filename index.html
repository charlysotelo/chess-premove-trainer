<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premove trainer</title>
    
    <!-- Chessboard.js CSS -->
    <link rel="stylesheet" href="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css">

    <link rel="stylesheet" href="css/trainer.css">
</head>
<body>
    <h1>Premove trainer</h1>

    <div class="controls">
        <label for="scenarioSelect">Scenario:</label>
        <select id="scenarioSelect" style="flex: 1; padding: 8px; font-size: 16px;">
            <option value="kq">K+Q vs K (Random)</option>
            <option value="resetMate">Reset Mate (Random)</option>
            <option value="customFen">Custom Scenario (FEN)</option>
        </select>
    </div>

    <div class="controls" id="customScenarioControls" style="display: none;">
        <label for="customFen">FEN:</label>
        <input type="text" id="customFen" placeholder="Paste a FEN (e.g. '8/8/8/8/8/8/8/8 w - - 0 1')" style="flex: 1; padding: 8px; font-size: 16px;">
        <button id="loadFenBtn" type="button">Load</button>
    </div>
    <div id="customFenError" style="color: #f44336; margin-top: 6px; max-width: 500px; display: none;"></div>

    <div class="controls">
        <label for="whiteTime">White time:</label>
        <input type="range" id="whiteTime" min="0" max="120" step="0.1" value="5">
        <span class="value" id="whiteTimeValue">5.0s</span>
    </div>

    <div class="controls">
        <label for="blackTime">Black time:</label>
        <input type="range" id="blackTime" min="0" max="120" step="0.1" value="60">
        <span class="value" id="blackTimeValue">60.0s</span>
    </div>
    
    <div class="controls">
        <label for="blackDelay">Black move delay:</label>
        <input type="range" id="blackDelay" min="0.1" max="3" step="0.1" value="1">
        <span class="value" id="blackDelayValue">1.0s</span>
    </div>
    
    <div class="timers">
        <div class="timer" id="whiteTimer">White: 5.0s</div>
        <div class="timer" id="blackTimer">Black: 60.0s</div>
    </div>

    <div class="board-and-video">
        <div id="board"></div>

        <div id="videoTile" aria-label="Scenario video" style="display: none;">
            <div class="video-title">Tutorial video</div>
            <iframe
                id="scenarioVideo"
                width="560"
                height="315"
                src=""
                title="YouTube video player"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                referrerpolicy="strict-origin-when-cross-origin"
                allowfullscreen
            ></iframe>
        </div>
    </div>

    <div id="status">Move the white pieces to checkmate black!</div>
    
    <div>
        <button id="newPositionBtn">New Position</button>
    </div>

    <footer class="donate-footer" aria-label="Buy me a coffee">
        <div class="donate-title">Buy me a coffee â˜•</div>
        <img class="donate-qr" src="assets/venmo_qr_cs.png" alt="Venmo donation QR code">
    </footer>
    
    <!-- jQuery (required for chessboard.js) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Chess.js for game logic -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.min.js"></script>
    
    <!-- Chessboard.js -->
    <script src="https://unpkg.com/@chrisoakman/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>

    <!-- App code -->
    <script src="js/trainer.state.js"></script>
    <script src="js/trainer.pmdbg.js"></script>
    <script src="js/trainer.scenarios.js"></script>
    <script src="js/trainer.ui.js"></script>
    <script src="js/trainer.engine.js"></script>
</body>
</html>
